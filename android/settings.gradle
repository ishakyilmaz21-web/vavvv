// android/settings.gradle

// local.properties'ten Flutter SDK yolunu oku
def props = new Properties()
def lp = new File(rootProject.projectDir, "local.properties")
if (lp.exists()) {
  lp.withReader("UTF-8") { r -> props.load(r) }
}
def flutterSdkPath = props.getProperty("flutter.sdk")
if (flutterSdkPath == null) {
  throw new GradleException(
    "Flutter SDK bulunamadı. local.properties içine flutter.sdk=/path/to/flutter yazılmalı.")
}

// Flutter gradle plug-in'ini dahil et (kritik satır)
pluginManagement {
  includeBuild("$flutterSdkPath/packages/flutter_tools/gradle")
  repositories {
    google()
    mavenCentral()
    gradlePluginPortal()
  }
}

// Android ve Kotlin plug-in sürümleri (root'ta tanımlı, app'te uygulanıyor)
plugins {
  id "com.android.application" version "8.2.1" apply false
  id "org.jetbrains.kotlin.android" version "1.9.10" apply false
  id "dev.flutter.flutter-gradle-plugin" apply false
}

include(":app")
